---
title: 前言
---

其实 **编程** 与 **做数学** 是很相似的事情，你知道吗？

相似？

相似到什么程度呢？

> 如果使用合适的语言，两件事其实是一致的。

程序员在写某个 *函数* 以实现某些功能时，首先会想这个函数的输入输出 *类型* 是什么；
而数学家会把 *命题与猜想* 当作自己的挑战，仔细分析条件，然后努力 *证明* 目标的命题。

| 人物   | 问题 | 解答 |
|--------|------|------|
| 程序员 | 类型 | 函数 |
| 数学家 | 命题 | 证明 |

大约在 1934 到 1969 年，数学家和逻辑学家们逐渐发现
[这两件事是一致的！](#curry-howard-correspondence)

> 类型即命题；函数即证明。

在之后的几十年，人们以这一发现为指导原则，设计了一系列形式语言，
来尝试统一「编程」与「做数学」这两种活动。

然而，作为一名职业程序员，在工作和学习中，
当偶然和伙伴们聊到编程与数学的这一联系时，
大家会感到很惊讶，好像我在吐露着什么玄而又玄的奥秘。

我所做的 [*蝉语*](https://cicada-lang.org)，以及读者面前的这本小册子，
就是想要把个「奥妙的秘密」痛痛快快地吐露给大家。

# 语法设计

在设计语法的时候，我选取了职业程序员所熟悉的语法元素。

因为我认为语法最重要的价值就是为众人所熟悉，
毕竟语言的意义就在于人与人之间的交流。

下面是一些 *语法示例* 希望可以给读者一个大体印象，
比如我们有 `function`, `return` 以及 `class` 等程序员所熟悉的语法关键词。

- 用类似模式匹配的 `induction` 来定义 *阶乘* 函数：

  ``` cicada impression
  function factorial(n: Nat): Nat {
    return induction (n) {
      case zero => one
      case add1(prev, almost) => mul(Nat.add1(prev), almost.prev)
    }
  }
  ```

- 将抽象代数中的 `Group` 定义为一个 `class`，
  并且用 `extends` 来声明它继承了 `Monoid`：

  ``` cicada impression
  class Group extends Monoid {
    inv(x: Element): Element

    inv_left(x: Element): Equal(Element, mul(inv(x), x), id)
    inv_right(x: Element): Equal(Element, mul(x, inv(x)), id)

    div(x: Element, y: Element): Element {
      return mul(x, inv(y))
    }
  }
  ```

# 辅助数学研究

用计算机软件来辅助数学研究，其实也是很平常的一件事。

2002 年北京的菲尔兹奖（Fields Medal）的主 Vladimir Voevodsky 如是说：

> 假设你想要解某个五次代数方程。
> 通过某些方法，你找到了方程的解，
> 然后你可以把根带入方程中，来检查解是否正确。
>
> 但是当你想要解一个有二十个二十次方程的方程组时，
> 或者想要解类似复杂的问题。
> 通过某些方法，你找到了方程的解，
> 但是此时想要检查解的正确性，就需要做很多计算了。
>
> 如今没人会想用纸和笔来徒手做这类计算了，
> 你会用到某些软件来帮助自己做验证。
>
> 再设想，你的问题是要证明某个定理。
> 你找到的解是一个证明。
> 如何验证证明是否正确呢？
>
> 关于什么才是严格的证明，你从老师或教授那里，学到了一些惯例与原则，
> 但是你还不能把你的证明提供给计算机，让计算机去帮你检查它。

Vladimir Voevodsky 之所以获得 2002 年的菲尔兹奖，是因为他证明了 Milnor 猜想。
然而他是在 1995 完成初版证明的，然而有花了 7 年时间他才完善了证明，并且获得数学界的认可。

TODO vv 的故事

# 程序员和数学家之间的相互学习

TODO 面向对象的设计

# 鸣谢

感谢我的家人在这些年来对我的支持和鼓励，
希望这本小册子能让他们更多地了解我这些年的工作。

感谢 Dan Friedman 与 David Christiansen，
我从 Dan 的书 "The Little Schemer" 中学会了编程，
又从 Dan 和 David 的书 "The Little Typer" 中学会了如何实现类型系统。

------

# 注脚

### Curry-Howard correspondence

这种一致性被称作「Curry–Howard 一致性 / Curry–Howard correspondence」。

- 1934 年，Curry 发现了部分逻辑学公理与组合子之间的对应；
- 1969 年，Howard 发现了逻辑中的自然演绎系统与 Lambda 演算之间的对应。
